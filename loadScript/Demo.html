<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>非阻塞方式下载 JavaScript，提快页面加载</title>
</head>
<body>

    <script type="text/javascript">

        function loadScript(url, callback){
            var script = document.createElement ("script")
            // script.type = "text/javascript";
            if (script.readyState){  //IE
                script.onreadystatechange = function(){
                    if (script.readyState == "loaded" || script.readyState == "complete"){
                        script.onreadystatechange = null;
                        callback();
                    }
                };
            } else { //Others
                script.onload = function(){
                    callback();
                };
            }
            script.src = url;
            document.getElementsByTagName("head")[0].appendChild(script);
        }

        loadScript('alert.js',function(){
            alert(temp);
            alert(fnTest('liunwcj'));
        });

        //不兼容IE
        // (function(d){
        // 	var s = d.createElement('script');
        // 	s.src = 'js/alert.js?t='+ Math.random();
        // 	s.async = true;
        // 	d.getElementsByTagName('head')[0].appendChild(s);
        // 	s.onload = function(){
        // 		alert(temp);
        // 	}
        // })(document);

    </script>
</body>
</html>