<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>fixed - plugin - jquery</title>
    <style type="text/css">
        body{ height:2000em; margin:0; padding:0; }
        #box{ width:100px; height:300px; background-color:#C00;
            /*初始化样式*/
            position: absolute; /*fixed*/
            top:0; /*bug*/
            /*初始化样式 End*/
        }
        .test{position: relative; width: 1000px; margin-left: auto; margin-right: auto; margin-top: 300px;}

        /*Demo*/
        #nav{background-color: #C00; width:1000px; height:60px;
            /*初始化样式*/
            position: absolute; top: 0;
            /*初始化样式 End*/
        }
    </style>
    <script src="../js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript">
        (function($){
            $.fn.topFixed = function(options){
                if(!-[1,] && !window.XMLHttpRequest){ /*判断IE6不执行*/
                    return false;
                }else{
                    var settings = {
                        topRange:300    /*开始滚动的距离*/
                    },_this = $(this);
                    $.extend(settings,options);
                    $(window).scroll(function(){
                        var temp = $(this).scrollTop();
                        if(settings.topRange < temp){
                            _this.css('position','fixed');
                        }else{
                            _this.css('position','absolute');
                        }
                    });
                }
            }
        })(jQuery);
        $(function () {
            $('#box').topFixed();
            $('#nav').topFixed({topRange:500});
        });
    </script>
</head>
<body>


<div class="test">
    <div id="box"></div>
    <div id="nav"></div>
</div>

</body>
</html>